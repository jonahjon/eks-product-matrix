(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{106:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(40),i=n.n(c),l=n(110),u=n(111),o=n(54),s=n(109),m=(n(61),n(15)),p=n(16),d=n(18),h=n(17),f=n(19),g=n(37),E=(n(62),n(5)),v=n(11),b=n(9);function y(){var e=Object(v.a)(["\n    fragment LikeRecipe on Recipe {\n      _id\n      likes\n    }\n  "]);return y=function(){return e},e}function j(){var e=Object(v.a)(["\n    fragment MinimalRecipe on Recipe {\n      _id\n      name\n      imageUrl\n      category\n    }\n  "]);return j=function(){return e},e}function O(){var e=Object(v.a)(["\n    fragment CompleteRecipe on Recipe {\n      _id\n      name\n      imageUrl\n      category\n      description\n      instructions\n      createdDate\n      likes\n      username\n    }\n  "]);return O=function(){return e},e}var k={recipe:Object(b.b)(O()),minRecipe:Object(b.b)(j()),like:Object(b.b)(y())};function C(){var e=Object(v.a)(["\n  mutation($username: String!, $email: String!, $password: String!) {\n    signupUser(username: $username, email: $email, password: $password) {\n      token\n    }\n  }\n"]);return C=function(){return e},e}function S(){var e=Object(v.a)(["\n  mutation($username: String!, $password: String!) {\n    signinUser(username: $username, password: $password) {\n      token\n    }\n  }\n"]);return S=function(){return e},e}function R(){var e=Object(v.a)(["\n  query($username: String!) {\n    getUserRecipes(username: $username) {\n      ...CompleteRecipe\n    }\n  }\n  ","\n"]);return R=function(){return e},e}function w(){var e=Object(v.a)(["\n  query {\n    getCurrentUser {\n      username\n      joinDate\n      email\n      favorites {\n        _id\n        name\n      }\n    }\n  }\n"]);return w=function(){return e},e}function U(){var e=Object(v.a)(["\n  mutation(\n    $_id: ID!\n    $name: String!\n    $imageUrl: String!\n    $category: String!\n    $description: String!\n    $instructions: String!\n  ) {\n    updateUserRecipe(\n      _id: $_id\n      name: $name\n      imageUrl: $imageUrl\n      category: $category\n      description: $description\n      instructions: $instructions\n    ) {\n      ...CompleteRecipe\n    }\n  }\n  ","\n"]);return U=function(){return e},e}function _(){var e=Object(v.a)(["\n  mutation($_id: ID!) {\n    deleteUserRecipe(_id: $_id) {\n      _id\n    }\n  }\n"]);return _=function(){return e},e}function $(){var e=Object(v.a)(["\n  mutation($_id: ID!, $username: String!) {\n    unlikeRecipe(_id: $_id, username: $username) {\n      ...LikeRecipe\n    }\n  }\n  ","\n"]);return $=function(){return e},e}function N(){var e=Object(v.a)(["\n  mutation($_id: ID!, $username: String!) {\n    likeRecipe(_id: $_id, username: $username) {\n      ...LikeRecipe\n    }\n  }\n  ","\n"]);return N=function(){return e},e}function A(){var e=Object(v.a)(["\n  mutation(\n    $name: String!\n    $imageUrl: String!\n    $category: String!\n    $description: String!\n    $instructions: String!\n    $username: String\n  ) {\n    addRecipe(\n      name: $name\n      imageUrl: $imageUrl\n      category: $category\n      description: $description\n      instructions: $instructions\n      username: $username\n    ) {\n      ...MinimalRecipe\n    }\n  }\n  ","\n"]);return A=function(){return e},e}function D(){var e=Object(v.a)(["\n  query($searchTerm: String) {\n    searchRecipes(searchTerm: $searchTerm) {\n      _id\n      name\n      likes\n    }\n  }\n"]);return D=function(){return e},e}function x(){var e=Object(v.a)(["\n  query($_id: ID!) {\n    getRecipe(_id: $_id) {\n      ...CompleteRecipe\n    }\n  }\n  ","\n"]);return x=function(){return e},e}function q(){var e=Object(v.a)(["\n  query {\n    getAllRecipes {\n      ...MinimalRecipe\n    }\n  }\n  ","\n"]);return q=function(){return e},e}var I=Object(b.b)(q(),k.minRecipe),L=Object(b.b)(x(),k.recipe),F=Object(b.b)(D()),M=Object(b.b)(A(),k.minRecipe),Q=Object(b.b)(N(),k.like),B=Object(b.b)($(),k.like),T=Object(b.b)(_()),P=Object(b.b)(U(),k.recipe),Y=Object(b.b)(w()),H=Object(b.b)(R(),k.recipe),J=Object(b.b)(S()),z=Object(b.b)(C()),G=n(41),W=g.a.li({shown:{opacity:1},hidden:{opacity:0}}),K=function(e){var t=e._id,n=e.name,a=e.imageUrl,c=e.category;return r.a.createElement(W,{style:{background:"url(".concat(a,") center center / cover no-repeat")},className:"card"},r.a.createElement("span",{className:c},c),r.a.createElement("div",{className:"card-text"},r.a.createElement(G.a,{to:"/recipes/".concat(t)},r.a.createElement("h4",null,n))))},V=n(52),X=function(){return r.a.createElement("div",{className:"spinner"},r.a.createElement(V.PulseLoader,{color:"#1eaedb",size:30,margin:"3px"}))},Z=g.a.ul({shown:{x:"0%",staggerChildren:100},hidden:{x:"-100%"}}),ee=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={on:!1},n.slideIn=function(){n.setState({on:!n.state.on})},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){setTimeout(this.slideIn,200)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement("h1",{className:"main-title"},"Find Recipes You ",r.a.createElement("strong",null,"Love")),r.a.createElement(E.d,{query:I},function(t){var n=t.data,a=t.loading,c=t.error;if(a)return r.a.createElement(X,null);if(c)return r.a.createElement("div",{className:"App"},"Error");var i=e.state.on;return r.a.createElement(Z,{pose:i?"shown":"hidden",className:"cards"},n.getAllRecipes.map(function(e){return r.a.createElement(K,Object.assign({key:e._id},e))}))}))}}]),t}(r.a.Component),te=n(21),ne=n.n(te),ae=n(25),re=n(24),ce=n(20),ie=n(112),le=function(e){var t=e.error;return r.a.createElement("p",null,t.message)},ue={username:"",password:""},oe=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state=Object(ce.a)({},ue),n.clearState=function(){n.setState(Object(ce.a)({},ue))},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(re.a)({},a,r))},n.handleSubmit=function(e,t){e.preventDefault(),t().then(function(){var e=Object(ae.a)(ne.a.mark(function e(t){var a;return ne.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,localStorage.setItem("token",a.signinUser.token),e.next=4,n.props.refetch();case 4:n.clearState(),n.props.history.push("/");case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())},n.validateForm=function(){var e=n.state,t=e.username,a=e.password;return!t||!a},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.username,a=t.password;return r.a.createElement("div",{className:"App"},r.a.createElement("h2",{className:"App"},"Signin"),r.a.createElement(E.c,{mutation:J,variables:{username:n,password:a}},function(t,c){c.data;var i=c.loading,l=c.error;return r.a.createElement("form",{className:"form",onSubmit:function(n){return e.handleSubmit(n,t)}},r.a.createElement("input",{type:"text",name:"username",placeholder:"Username",value:n,onChange:e.handleChange}),r.a.createElement("input",{type:"password",name:"password",placeholder:"Password",value:a,onChange:e.handleChange}),r.a.createElement("button",{type:"submit",disabled:i||e.validateForm(),className:"button-primary"},"Signin"),l&&r.a.createElement(le,{error:l}))}))}}]),t}(r.a.Component),se=Object(ie.a)(oe),me={username:"",email:"",password:"",passwordConfirmation:""},pe=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state=Object(ce.a)({},me),n.clearState=function(){n.setState(Object(ce.a)({},me))},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(re.a)({},a,r))},n.handleSubmit=function(e,t){e.preventDefault(),t().then(function(){var e=Object(ae.a)(ne.a.mark(function e(t){var a;return ne.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,localStorage.setItem("token",a.signupUser.token),e.next=4,n.props.refetch();case 4:n.clearState(),n.props.history.push("/");case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())},n.validateForm=function(){var e=n.state,t=e.username,a=e.email,r=e.password,c=e.passwordConfirmation;return!t||!a||!r||r!==c},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.username,a=t.email,c=t.password,i=t.passwordConfirmation;return r.a.createElement("div",{className:"App"},r.a.createElement("h2",{className:"App"},"Signup"),r.a.createElement(E.c,{mutation:z,variables:{username:n,email:a,password:c}},function(t,l){l.data;var u=l.loading,o=l.error;return r.a.createElement("form",{className:"form",onSubmit:function(n){return e.handleSubmit(n,t)}},r.a.createElement("input",{type:"text",name:"username",placeholder:"Username",value:n,onChange:e.handleChange}),r.a.createElement("input",{type:"email",name:"email",placeholder:"E-mail",value:a,onChange:e.handleChange}),r.a.createElement("input",{type:"password",name:"password",placeholder:"Password",value:c,onChange:e.handleChange}),r.a.createElement("input",{type:"password",name:"passwordConfirmation",placeholder:"Confirm Password",value:i,onChange:e.handleChange}),r.a.createElement("button",{type:"submit",disabled:u||e.validateForm(),className:"button-primary"},"Submit"),o&&r.a.createElement(le,{error:o}))}))}}]),t}(r.a.Component),de=Object(ie.a)(pe),he=function(e){return function(t){return r.a.createElement(E.d,{query:Y},function(n){var a=n.data,c=n.loading,i=n.refetch;return c?null:r.a.createElement(e,Object.assign({},t,{refetch:i,session:a}))})}},fe=function(e){var t=e._id,n=e.name,a=e.likes;return r.a.createElement("li",null,r.a.createElement(G.a,{to:"/recipes/".concat(t)},r.a.createElement("h4",null,n)),r.a.createElement("p",null,"Likes: ",a))},ge=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={searchRecipes:[]},n.handleChange=function(e){var t=e.searchRecipes;n.setState({searchRecipes:t})},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.state.searchRecipes;return r.a.createElement(E.a,null,function(n){return r.a.createElement("div",{className:"App"},r.a.createElement("h3",null,"Search"),r.a.createElement("input",{type:"search",className:"search",name:"search",placeholder:"Search for Recipes",onChange:function(){var t=Object(ae.a)(ne.a.mark(function t(a){var r,c;return ne.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a.persist(),t.next=3,n.query({query:F,variables:{searchTerm:a.target.value}});case 3:r=t.sent,c=r.data,e.handleChange(c);case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}),r.a.createElement("ul",null,t.map(function(e){return r.a.createElement(fe,Object.assign({key:e._id},e))})))})}}]),t}(r.a.Component),Ee=n(55),ve=n(36),be=n.n(ve),ye=function(e){return function(t){return function(n){return r.a.createElement(E.d,{query:Y},function(a,c,i){return c?null:e(a)?r.a.createElement(t,n):r.a.createElement(s.a,{to:"/"})})}}},je={name:"",imageUrl:"",category:"Breakfast",description:"",instructions:"",username:""},Oe=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state=Object(ce.a)({},je),n.clearState=function(){n.setState(Object(ce.a)({},je))},n.validateForm=function(){var e=n.state,t=e.name,a=e.imageUrl,r=e.category,c=e.description,i=e.instructions,l=e.username;return!t||!a||!r||!c||!i||!l},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(re.a)({},a,r))},n.handleEditChange=function(e){var t=e.editor.getData();n.setState({instructions:t})},n.handleSubmit=function(e,t){e.preventDefault(),t().then(function(e){e.data;n.clearState(),n.props.history.push("/")})},n.updateCache=function(e,t){var n=t.data.addRecipe,a=e.readQuery({query:I}).getAllRecipes;e.writeQuery({query:I,data:{getAllRecipes:[n].concat(Object(Ee.a)(a))}})},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.setState({username:this.props.session.getCurrentUser.username})}},{key:"render",value:function(){var e=this,t=this.state,n=t.name,a=t.imageUrl,c=t.category,i=t.description,l=t.instructions,u=t.username;return r.a.createElement(E.c,{mutation:M,variables:{name:n,imageUrl:a,category:c,description:i,instructions:l,username:u},refetchQueries:function(){return[{query:H,variables:{username:u}},{query:Y}]},update:this.updateCache},function(t,u){u.data;var o=u.loading,s=u.error;return o?r.a.createElement(X,null):r.a.createElement("div",{className:"App"},r.a.createElement("h2",{className:"App"},"Add Recipe"),r.a.createElement("form",{className:"form",onSubmit:function(n){return e.handleSubmit(n,t)}},r.a.createElement("input",{type:"text",name:"name",placeholder:"Recipe Name",onChange:e.handleChange,value:n}),r.a.createElement("input",{type:"text",name:"imageUrl",placeholder:"Recipe Image",onChange:e.handleChange,value:a}),r.a.createElement("select",{name:"category",onChange:e.handleChange,value:c},r.a.createElement("option",{value:"Breakfast"},"Breakfast"),r.a.createElement("option",{value:"Lunch"},"Lunch"),r.a.createElement("option",{value:"Dinner"},"Dinner"),r.a.createElement("option",{value:"Snack"},"Snack")),r.a.createElement("input",{type:"text",name:"description",placeholder:"Add description",onChange:e.handleChange,value:i}),r.a.createElement("label",{htmlFor:"instructions"},"Add Instructions"),r.a.createElement(be.a,{name:"instructions",content:l,events:{change:e.handleEditChange}}),r.a.createElement("button",{disabled:o||e.validateForm(),type:"submit",className:"button-primary"},"Submit"),s&&r.a.createElement(le,{error:s})))})}}]),t}(r.a.Component),ke=ye(function(e){return e&&e.data.getCurrentUser})(Object(ie.a)(Oe)),Ce=he(function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={liked:!1,username:""},n.componentDidMount=function(){if(console.log(n.props),n.props.session.getCurrentUser){var e=n.props.session.getCurrentUser,t=e.username,a=e.favorites,r=n.props._id,c=a.findIndex(function(e){return e._id===r})>-1;n.setState({liked:c,username:t})}},n.handleClick=function(e,t){n.setState(function(e){return{liked:!e.liked}},function(){return n.handleLike(e,t)})},n.handleLike=function(e,t){n.state.liked?e().then(function(){var e=Object(ae.a)(ne.a.mark(function e(t){return ne.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.data,e.next=3,n.props.refetch();case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()):t().then(function(){var e=Object(ae.a)(ne.a.mark(function e(t){return ne.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.data,e.next=3,n.props.refetch();case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())},n.updateLike=function(e,t){var a=t.data.likeRecipe,r=n.props._id,c=e.readQuery({query:L,variables:{_id:r}}).getRecipe;e.writeQuery({query:L,variables:{_id:r},data:{getRecipe:Object(ce.a)({},c,{likes:a.likes+1})}})},n.updateUnlike=function(e,t){var a=t.data.unlikeRecipe,r=n.props._id,c=e.readQuery({query:L,variables:{_id:r}}).getRecipe;e.writeQuery({query:L,variables:{_id:r},data:{getRecipe:Object(ce.a)({},c,{likes:a.likes-1})}})},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.username,a=t.liked,c=this.props._id;return r.a.createElement(E.c,{mutation:B,variables:{_id:c,username:n},update:this.updateUnlike},function(t){return r.a.createElement(E.c,{mutation:Q,variables:{_id:c,username:n},update:e.updateLike},function(c){return n&&r.a.createElement("button",{className:"like-button",onClick:function(){return e.handleClick(c,t)}},a?"Unlike":"Like")})})}}]),t}(r.a.Component)),Se=Object(ie.a)(function(e){var t=e.match.params._id;return r.a.createElement(E.d,{query:L,variables:{_id:t}},function(e){var n=e.data,a=e.loading,c=e.error;return a?r.a.createElement(X,null):c?r.a.createElement("div",{className:"App"},"Error"):r.a.createElement("div",{className:"App"},r.a.createElement("div",{style:{background:"url(".concat(n.getRecipe.imageUrl,") center center / cover no-repeat")},className:"recipe-image"}),r.a.createElement("div",{className:"recipe"},r.a.createElement("div",{className:"recipe-header"},r.a.createElement("h2",{className:"recipe-name"},r.a.createElement("strong",null,n.getRecipe.name)),r.a.createElement("h5",null,r.a.createElement("strong",null,n.getRecipe.category)),r.a.createElement("p",null,"Created by ",r.a.createElement("strong",null,n.getRecipe.username)),r.a.createElement("p",null,"Created date ",r.a.createElement("strong",null,n.getRecipe.createdDate)),r.a.createElement("p",null,n.getRecipe.likes," ",r.a.createElement("span",{role:"img","aria-label":"heart"},"\u2665"))),r.a.createElement("blockquote",{className:"recipe-description"},n.getRecipe.description),r.a.createElement("h3",{className:"recipe-instructions__title"},"Instructions"),r.a.createElement("div",{className:"recipe-instructions",dangerouslySetInnerHTML:{__html:n.getRecipe.instructions}}),r.a.createElement(Ce,{_id:t})))})}),Re=function(e){var t=e.session;return r.a.createElement("div",{className:"App"},r.a.createElement("h3",null,"User Info"),r.a.createElement("p",null,"Username: ",t.getCurrentUser.username),r.a.createElement("p",null,"E-mail: ",t.getCurrentUser.email),r.a.createElement("p",null,"Join Date: ",function(e){var t=new Date(e).toLocaleDateString("en-US"),n=new Date(e).toLocaleTimeString("en-US");return"".concat(t," at ").concat(n)}(t.getCurrentUser.joinDate)),r.a.createElement("ul",null,r.a.createElement("h3",null,t.getCurrentUser.username,"'s Favorites"),t.getCurrentUser.favorites.map(function(e){return r.a.createElement("li",{key:e._id},r.a.createElement(G.a,{to:"/recipes/".concat(e._id)},r.a.createElement("p",null,e.name))," ")}),!t.getCurrentUser.favorites.length&&r.a.createElement("p",null,r.a.createElement("strong",null,"You have no favorites currently. Go add some!"))))},we=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={_id:"",name:"",imageUrl:"",category:"Breakfast",description:"",instructions:"",modal:!1},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(re.a)({},a,r))},n.handleEditChange=function(e){var t=e.editor.getData();n.setState({instructions:t})},n.handleDelete=function(e){window.confirm("Are you sure you want to delete this recipe?")&&e().then(function(e){e.data})},n.handleSubmit=function(e,t){e.preventDefault(),t().then(function(e){var t=e.data;console.log(t),n.closeModal()})},n.loadRecipe=function(e){n.setState(Object(ce.a)({},e,{modal:!0}))},n.closeModal=function(){n.setState({modal:!1})},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.props.username,n=this.state.modal;return r.a.createElement(E.d,{query:H,variables:{username:t}},function(a){var c=a.data,i=a.loading,l=a.error;return i?r.a.createElement(X,null):l?r.a.createElement("div",{className:"App"},"Error"):r.a.createElement("ul",null,n&&r.a.createElement(Ue,{recipe:e.state,closeModal:e.closeModal,handleChange:e.handleChange,handleEditChange:e.handleEditChange,handleSubmit:e.handleSubmit}),r.a.createElement("h3",null,"Your Recipes"),!c.getUserRecipes.length&&r.a.createElement("p",null,r.a.createElement("strong",null,"You have not added any recipes yet.")),c.getUserRecipes.map(function(n){return r.a.createElement("li",{key:n._id,style:{border:"2px solid black"}},r.a.createElement(G.a,{to:"/recipes/".concat(n._id)},r.a.createElement("p",null,n.name)),r.a.createElement("p",{style:{marginBottom:"0"}},"Likes: ",n.likes),r.a.createElement(E.c,{mutation:T,variables:{_id:n._id},refetchQueries:function(){return[{query:I},{query:Y}]},update:function(e,n){var a=n.data.deleteUserRecipe,r=e.readQuery({query:H,variables:{username:t}}).getUserRecipes;e.writeQuery({query:H,variables:{username:t},data:{getUserRecipes:r.filter(function(e){return e._id!==a._id})}})}},function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"button-primary",onClick:function(){return e.loadRecipe(n)}},"Update"),r.a.createElement("button",{className:"delete-button",onClick:function(){return e.handleDelete(t)}},a.loading?"Deleting...":"Delete"))}))}))})}}]),t}(r.a.Component),Ue=function(e){var t=e.handleSubmit,n=e.recipe,a=e.handleChange,c=e.handleEditChange,i=e.closeModal;return r.a.createElement(E.c,{mutation:P,variables:{_id:n._id,name:n.name,imageUrl:n.imageUrl,category:n.category,description:n.description,instructions:n.instructions}},function(e){return r.a.createElement("div",{className:"modal modal-open"},r.a.createElement("div",{className:"modal-inner"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("form",{onSubmit:function(n){return t(n,e)},className:"modal-content-inner"},r.a.createElement("h4",null,"Edit Recipe"),r.a.createElement("input",{type:"text",name:"name",placeholder:"Recipe Name",onChange:a,value:n.name}),r.a.createElement("input",{type:"text",name:"imageUrl",placeholder:"Recipe Image",onChange:a,value:n.imageUrl}),r.a.createElement("select",{name:"category",onChange:a,value:n.category},r.a.createElement("option",{value:"Breakfast"},"Breakfast"),r.a.createElement("option",{value:"Lunch"},"Lunch"),r.a.createElement("option",{value:"Dinner"},"Dinner"),r.a.createElement("option",{value:"Snack"},"Snack")),r.a.createElement("input",{type:"text",name:"description",placeholder:"Add description",onChange:a,value:n.description}),r.a.createElement(be.a,{name:"instructions",content:n.instructions,events:{change:c}}),r.a.createElement("hr",null),r.a.createElement("div",{className:"modal-buttons"},r.a.createElement("button",{type:"submit",className:"button-primary"},"Update"),r.a.createElement("button",{onClick:i},"Cencel"))))))})},_e=we,$e=ye(function(e){return e&&e.data.getCurrentUser})(function(e){var t=e.session;return r.a.createElement("div",{className:"App"},r.a.createElement(Re,{session:t}),r.a.createElement(_e,{username:t.getCurrentUser.username}))}),Ne=n(108),Ae=Object(ie.a)(function(e){var t=e.history;return r.a.createElement(E.a,null,function(e){return r.a.createElement("button",{onClick:function(){return function(e,t){localStorage.removeItem("token"),e.resetStore(),t.push("/")}(e,t)}},"Signout")})}),De=function(e){var t=e.session;return r.a.createElement(a.Fragment,null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(Ne.a,{to:"/",exact:!0},"Home")),r.a.createElement("li",null,r.a.createElement(Ne.a,{to:"/search"},"Search")),r.a.createElement("li",null,r.a.createElement(Ne.a,{to:"/recipe/add"},"Add Recipe")),r.a.createElement("li",null,r.a.createElement(Ne.a,{to:"/profile"},"Profile")),r.a.createElement("li",null,r.a.createElement(Ae,null))),r.a.createElement("h4",null,"Welcome, ",r.a.createElement("strong",null,t.getCurrentUser.username)))},xe=function(){return r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(Ne.a,{to:"/",exact:!0},"Home")),r.a.createElement("li",null,r.a.createElement(Ne.a,{to:"/search"},"Search")),r.a.createElement("li",null,r.a.createElement(Ne.a,{to:"/signin"},"Signin")),r.a.createElement("li",null,r.a.createElement(Ne.a,{to:"/signup"},"Signup")))},qe=function(e){var t=e.session;return r.a.createElement("nav",null,t&&t.getCurrentUser?r.a.createElement(De,{session:t}):r.a.createElement(xe,null))},Ie=new b.a({uri:"http://localhost:4444/graphql",fetchOptions:{credentials:"include"},request:function(e){var t=localStorage.getItem("token");e.setContext({headers:{authorization:t}})},onError:function(e){e.networkError&&localStorage.setItem("token","")}}),Le=he(function(e){var t=e.refetch,n=e.session;return r.a.createElement(l.a,null,r.a.createElement(a.Fragment,null,r.a.createElement(qe,{session:n}),r.a.createElement(u.a,null,r.a.createElement(o.a,{path:"/",exact:!0,component:ee}),r.a.createElement(o.a,{path:"/search",component:ge}),r.a.createElement(o.a,{path:"/profile",render:function(){return r.a.createElement($e,{session:n})}}),r.a.createElement(o.a,{path:"/recipe/add",render:function(){return r.a.createElement(ke,{session:n})}}),r.a.createElement(o.a,{path:"/recipes/:_id",component:Se}),r.a.createElement(o.a,{path:"/signin",render:function(){return r.a.createElement(se,{refetch:t})}}),r.a.createElement(o.a,{path:"/signup",render:function(){return r.a.createElement(de,{refetch:t})}}),r.a.createElement(s.a,{to:"/"}))))});i.a.render(r.a.createElement(E.b,{client:Ie},r.a.createElement(Le,null)),document.getElementById("root"))},56:function(e,t,n){e.exports=n(106)},61:function(e,t,n){},62:function(e,t,n){}},[[56,1,2]]]);
//# sourceMappingURL=main.ef6f36c7.chunk.js.map