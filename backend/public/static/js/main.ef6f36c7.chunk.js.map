{"version":3,"sources":["queries/fragments.js","queries/index.js","components/Recipe/RecipeItem.js","components/Spinner.js","components/App.js","components/Error.js","components/Auth/Signin.js","components/Auth/Signup.js","components/withSession.js","components/Recipe/SearchItem.js","components/Recipe/Search.js","components/withAuth.js","components/Recipe/AddRecipe.js","components/Recipe/LikeRecipe.js","components/Recipe/RecipePage.js","components/Profile/UserInfo.js","components/Profile/UserRecipes.js","components/Profile/Profile.js","components/Auth/Signout.js","components/Navbar.js","index.js"],"names":["recipeFragments","recipe","gql","_templateObject","minRecipe","_templateObject2","like","_templateObject3","GET_ALL_RECIPES","queries_templateObject","GET_RECIPE","queries_templateObject2","SEARCH_RECIPES","queries_templateObject3","ADD_RECIPE","_templateObject4","LIKE_RECIPE","_templateObject5","UNLIKE_RECIPE","_templateObject6","DELETE_USER_RECIPE","_templateObject7","UPDATE_USER_RECIPE","_templateObject8","GET_CURRENT_USER","_templateObject9","GET_USER_RECIPES","_templateObject10","SIGNIN_USER","_templateObject11","SIGNUP_USER","_templateObject12","RecipeItem","posed","li","shown","opacity","hidden","Recipe_RecipeItem","_ref","_id","name","imageUrl","category","react_default","a","createElement","style","background","concat","className","Link","to","Spinner","react_spinners","color","size","margin","RecipeList","ul","x","staggerChildren","App","state","on","slideIn","_this","setState","setTimeout","this","_this2","react_apollo_esm","query","data","loading","error","components_Spinner","pose","getAllRecipes","map","Object","assign","key","React","Component","Error","message","initialState","username","password","Signin","clearState","objectSpread","handleChange","event","_event$target","target","value","defineProperty","handleSubmit","signinUser","preventDefault","then","_ref2","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","localStorage","setItem","token","props","refetch","history","push","stop","_x","apply","arguments","validateForm","_this$state","_this$state2","mutation","variables","_ref3","onSubmit","type","placeholder","onChange","disabled","components_Error","withRouter","email","passwordConfirmation","Signup","signupUser","withSession","session","SearchItem","likes","Search","searchRecipes","client","persist","searchTerm","sent","Recipe_SearchItem","withAuth","conditionFunc","Redirect","description","instructions","AddRecipe","handleEditChange","newContent","editor","getData","addRecipe","updateCache","cache","readQuery","writeQuery","toConsumableArray","getCurrentUser","refetchQueries","update","htmlFor","lib_default","content","events","change","liked","componentDidMount","console","log","_this$props$session$g","favorites","prevLiked","findIndex","favorite","handleClick","likeRecipe","unlikeRecipe","prevState","handleLike","_ref4","_callee2","_context2","_x2","updateLike","_ref5","getRecipe","updateUnlike","_ref6","onClick","match","params","createdDate","role","aria-label","dangerouslySetInnerHTML","__html","Recipe_LikeRecipe","UserInfo","date","newDate","Date","toLocaleDateString","newTime","toLocaleTimeString","formatDate","joinDate","length","UserRecipes","modal","handleDelete","deleteUserRecipe","window","confirm","updateUserRecipe","closeModal","loadRecipe","UserRecipes_EditRecipeModal","getUserRecipes","border","marginBottom","filter","attrs","undefined","Fragment","EditRecipeModal","Profile_UserInfo","Profile_UserRecipes","removeItem","resetStore","handleSignout","NavbarAuth","react","NavLink","exact","Auth_Signout","NavbarUnAuth","Navbar","Navbar_NavbarAuth","Navbar_NavbarUnAuth","ApolloClient","uri","fetchOptions","credentials","request","operation","getItem","setContext","headers","authorization","onError","networkError","RootWithSession","BrowserRouter","components_Navbar","Switch","Route","path","component","render","components_Profile_Profile","Recipe_AddRecipe","RecipePage","Auth_Signin","Auth_Signup","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.ef6f36c7.chunk.js","sourcesContent":["import { gql } from \"apollo-boost\";\r\n\r\nexport const recipeFragments = {\r\n  recipe: gql`\r\n    fragment CompleteRecipe on Recipe {\r\n      _id\r\n      name\r\n      imageUrl\r\n      category\r\n      description\r\n      instructions\r\n      createdDate\r\n      likes\r\n      username\r\n    }\r\n  `,\r\n  minRecipe: gql`\r\n    fragment MinimalRecipe on Recipe {\r\n      _id\r\n      name\r\n      imageUrl\r\n      category\r\n    }\r\n  `,\r\n  like: gql`\r\n    fragment LikeRecipe on Recipe {\r\n      _id\r\n      likes\r\n    }\r\n  `\r\n};\r\n","import { gql } from \"apollo-boost\";\r\nimport { recipeFragments } from \"./fragments\";\r\n\r\n// Recipes Queries\r\nexport const GET_ALL_RECIPES = gql`\r\n  query {\r\n    getAllRecipes {\r\n      ...MinimalRecipe\r\n    }\r\n  }\r\n  ${recipeFragments.minRecipe}\r\n`;\r\nexport const GET_RECIPE = gql`\r\n  query($_id: ID!) {\r\n    getRecipe(_id: $_id) {\r\n      ...CompleteRecipe\r\n    }\r\n  }\r\n  ${recipeFragments.recipe}\r\n`;\r\nexport const SEARCH_RECIPES = gql`\r\n  query($searchTerm: String) {\r\n    searchRecipes(searchTerm: $searchTerm) {\r\n      _id\r\n      name\r\n      likes\r\n    }\r\n  }\r\n`;\r\n\r\n// Recipes Mutations\r\nexport const ADD_RECIPE = gql`\r\n  mutation(\r\n    $name: String!\r\n    $imageUrl: String!\r\n    $category: String!\r\n    $description: String!\r\n    $instructions: String!\r\n    $username: String\r\n  ) {\r\n    addRecipe(\r\n      name: $name\r\n      imageUrl: $imageUrl\r\n      category: $category\r\n      description: $description\r\n      instructions: $instructions\r\n      username: $username\r\n    ) {\r\n      ...MinimalRecipe\r\n    }\r\n  }\r\n  ${recipeFragments.minRecipe}\r\n`;\r\nexport const LIKE_RECIPE = gql`\r\n  mutation($_id: ID!, $username: String!) {\r\n    likeRecipe(_id: $_id, username: $username) {\r\n      ...LikeRecipe\r\n    }\r\n  }\r\n  ${recipeFragments.like}\r\n`;\r\nexport const UNLIKE_RECIPE = gql`\r\n  mutation($_id: ID!, $username: String!) {\r\n    unlikeRecipe(_id: $_id, username: $username) {\r\n      ...LikeRecipe\r\n    }\r\n  }\r\n  ${recipeFragments.like}\r\n`;\r\nexport const DELETE_USER_RECIPE = gql`\r\n  mutation($_id: ID!) {\r\n    deleteUserRecipe(_id: $_id) {\r\n      _id\r\n    }\r\n  }\r\n`;\r\nexport const UPDATE_USER_RECIPE = gql`\r\n  mutation(\r\n    $_id: ID!\r\n    $name: String!\r\n    $imageUrl: String!\r\n    $category: String!\r\n    $description: String!\r\n    $instructions: String!\r\n  ) {\r\n    updateUserRecipe(\r\n      _id: $_id\r\n      name: $name\r\n      imageUrl: $imageUrl\r\n      category: $category\r\n      description: $description\r\n      instructions: $instructions\r\n    ) {\r\n      ...CompleteRecipe\r\n    }\r\n  }\r\n  ${recipeFragments.recipe}\r\n`;\r\n\r\n// User Queries\r\nexport const GET_CURRENT_USER = gql`\r\n  query {\r\n    getCurrentUser {\r\n      username\r\n      joinDate\r\n      email\r\n      favorites {\r\n        _id\r\n        name\r\n      }\r\n    }\r\n  }\r\n`;\r\nexport const GET_USER_RECIPES = gql`\r\n  query($username: String!) {\r\n    getUserRecipes(username: $username) {\r\n      ...CompleteRecipe\r\n    }\r\n  }\r\n  ${recipeFragments.recipe}\r\n`;\r\n\r\n// User Mutations\r\nexport const SIGNIN_USER = gql`\r\n  mutation($username: String!, $password: String!) {\r\n    signinUser(username: $username, password: $password) {\r\n      token\r\n    }\r\n  }\r\n`;\r\n\r\nexport const SIGNUP_USER = gql`\r\n  mutation($username: String!, $email: String!, $password: String!) {\r\n    signupUser(username: $username, email: $email, password: $password) {\r\n      token\r\n    }\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport posed from \"react-pose\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst RecipeItem = posed.li({\r\n  shown: { opacity: 1 },\r\n  hidden: { opacity: 0 }\r\n});\r\n\r\nexport default ({ _id, name, imageUrl, category }) => (\r\n  <RecipeItem\r\n    style={{ background: `url(${imageUrl}) center center / cover no-repeat` }}\r\n    className=\"card\"\r\n  >\r\n    <span className={category}>{category}</span>\r\n    <div className=\"card-text\">\r\n      <Link to={`/recipes/${_id}`}>\r\n        <h4>{name}</h4>\r\n      </Link>\r\n    </div>\r\n  </RecipeItem>\r\n);\r\n","import React from \"react\";\r\nimport { PulseLoader } from \"react-spinners\";\r\n\r\nconst Spinner = () => (\r\n  <div className=\"spinner\">\r\n    <PulseLoader color={\"#1eaedb\"} size={30} margin={\"3px\"} />\r\n  </div>\r\n);\r\n\r\nexport default Spinner;\r\n","import React from \"react\";\nimport posed from \"react-pose\";\nimport \"./App.css\";\n\nimport { Query } from \"react-apollo\";\nimport { GET_ALL_RECIPES } from \"../queries\";\nimport RecipeItem from \"./Recipe/RecipeItem\";\nimport Spinner from \"./Spinner\";\n\nconst RecipeList = posed.ul({\n  shown: {\n    x: \"0%\",\n    staggerChildren: 100\n  },\n  hidden: {\n    x: \"-100%\"\n  }\n});\n\nclass App extends React.Component {\n  state = {\n    on: false\n  };\n\n  componentDidMount() {\n    setTimeout(this.slideIn, 200);\n  }\n\n  slideIn = () => {\n    this.setState({ on: !this.state.on });\n  };\n\n  render() {\n    return (\n      <div className=\"App\">\n        <h1 className=\"main-title\">\n          Find Recipes You <strong>Love</strong>\n        </h1>\n        <Query query={GET_ALL_RECIPES}>\n          {({ data, loading, error }) => {\n            if (loading) return <Spinner />;\n            if (error) return <div className=\"App\">Error</div>;\n            const { on } = this.state;\n            return (\n              <RecipeList pose={on ? \"shown\" : \"hidden\"} className=\"cards\">\n                {data.getAllRecipes.map(recipe => (\n                  <RecipeItem key={recipe._id} {...recipe} />\n                ))}\n              </RecipeList>\n            );\n          }}\n        </Query>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\r\n\r\nconst Error = ({ error }) => <p>{error.message}</p>;\r\n\r\nexport default Error;\r\n","import React from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nimport { Mutation } from \"react-apollo\";\r\nimport { SIGNIN_USER } from \"../../queries\";\r\nimport Error from \"../Error\";\r\n\r\nconst initialState = {\r\n  username: \"\",\r\n  password: \"\"\r\n};\r\n\r\nclass Signin extends React.Component {\r\n  state = { ...initialState };\r\n\r\n  clearState = () => {\r\n    this.setState({ ...initialState });\r\n  };\r\n\r\n  handleChange = event => {\r\n    const { name, value } = event.target;\r\n    this.setState({\r\n      [name]: value\r\n    });\r\n  };\r\n\r\n  handleSubmit = (event, signinUser) => {\r\n    event.preventDefault();\r\n    signinUser().then(async ({ data }) => {\r\n      localStorage.setItem(\"token\", data.signinUser.token);\r\n      await this.props.refetch();\r\n      this.clearState();\r\n      this.props.history.push(\"/\");\r\n    });\r\n  };\r\n\r\n  validateForm = () => {\r\n    const { username, password } = this.state;\r\n    const isInvalid = !username || !password;\r\n    return isInvalid;\r\n  };\r\n\r\n  render() {\r\n    const { username, password } = this.state;\r\n\r\n    return (\r\n      <div className=\"App\">\r\n        <h2 className=\"App\">Signin</h2>\r\n        <Mutation mutation={SIGNIN_USER} variables={{ username, password }}>\r\n          {(signinUser, { data, loading, error }) => {\r\n            return (\r\n              <form\r\n                className=\"form\"\r\n                onSubmit={event => this.handleSubmit(event, signinUser)}\r\n              >\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"username\"\r\n                  placeholder=\"Username\"\r\n                  value={username}\r\n                  onChange={this.handleChange}\r\n                />\r\n                <input\r\n                  type=\"password\"\r\n                  name=\"password\"\r\n                  placeholder=\"Password\"\r\n                  value={password}\r\n                  onChange={this.handleChange}\r\n                />\r\n                <button\r\n                  type=\"submit\"\r\n                  disabled={loading || this.validateForm()}\r\n                  className=\"button-primary\"\r\n                >\r\n                  Signin\r\n                </button>\r\n                {error && <Error error={error} />}\r\n              </form>\r\n            );\r\n          }}\r\n        </Mutation>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(Signin);\r\n","import React from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nimport { Mutation } from \"react-apollo\";\r\nimport { SIGNUP_USER } from \"../../queries\";\r\nimport Error from \"../Error\";\r\n\r\nconst initialState = {\r\n  username: \"\",\r\n  email: \"\",\r\n  password: \"\",\r\n  passwordConfirmation: \"\"\r\n};\r\n\r\nclass Signup extends React.Component {\r\n  state = { ...initialState };\r\n\r\n  clearState = () => {\r\n    this.setState({ ...initialState });\r\n  };\r\n\r\n  handleChange = event => {\r\n    const { name, value } = event.target;\r\n    this.setState({\r\n      [name]: value\r\n    });\r\n  };\r\n\r\n  handleSubmit = (event, signupUser) => {\r\n    event.preventDefault();\r\n    signupUser().then(async ({ data }) => {\r\n      localStorage.setItem(\"token\", data.signupUser.token);\r\n      await this.props.refetch();\r\n      this.clearState();\r\n      this.props.history.push(\"/\");\r\n    });\r\n  };\r\n\r\n  validateForm = () => {\r\n    const { username, email, password, passwordConfirmation } = this.state;\r\n    const isInvalid =\r\n      !username || !email || !password || password !== passwordConfirmation;\r\n    return isInvalid;\r\n  };\r\n\r\n  render() {\r\n    const { username, email, password, passwordConfirmation } = this.state;\r\n\r\n    return (\r\n      <div className=\"App\">\r\n        <h2 className=\"App\">Signup</h2>\r\n        <Mutation\r\n          mutation={SIGNUP_USER}\r\n          variables={{ username, email, password }}\r\n        >\r\n          {(signupUser, { data, loading, error }) => {\r\n            return (\r\n              <form\r\n                className=\"form\"\r\n                onSubmit={event => this.handleSubmit(event, signupUser)}\r\n              >\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"username\"\r\n                  placeholder=\"Username\"\r\n                  value={username}\r\n                  onChange={this.handleChange}\r\n                />\r\n                <input\r\n                  type=\"email\"\r\n                  name=\"email\"\r\n                  placeholder=\"E-mail\"\r\n                  value={email}\r\n                  onChange={this.handleChange}\r\n                />\r\n                <input\r\n                  type=\"password\"\r\n                  name=\"password\"\r\n                  placeholder=\"Password\"\r\n                  value={password}\r\n                  onChange={this.handleChange}\r\n                />\r\n                <input\r\n                  type=\"password\"\r\n                  name=\"passwordConfirmation\"\r\n                  placeholder=\"Confirm Password\"\r\n                  value={passwordConfirmation}\r\n                  onChange={this.handleChange}\r\n                />\r\n                <button\r\n                  type=\"submit\"\r\n                  disabled={loading || this.validateForm()}\r\n                  className=\"button-primary\"\r\n                >\r\n                  Submit\r\n                </button>\r\n                {error && <Error error={error} />}\r\n              </form>\r\n            );\r\n          }}\r\n        </Mutation>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(Signup);\r\n","import React from \"react\";\r\nimport { Query } from \"react-apollo\";\r\nimport { GET_CURRENT_USER } from \"../queries\";\r\n\r\nconst withSession = Component => props => (\r\n  <Query query={GET_CURRENT_USER}>\r\n    {({ data, loading, refetch }) => {\r\n      if (loading) return null;\r\n      return <Component {...props} refetch={refetch} session={data} />;\r\n    }}\r\n  </Query>\r\n);\r\n\r\nexport default withSession;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst SearchItem = ({ _id, name, likes }) => (\r\n  <li>\r\n    <Link to={`/recipes/${_id}`}>\r\n      <h4>{name}</h4>\r\n    </Link>\r\n    <p>Likes: {likes}</p>\r\n  </li>\r\n);\r\n\r\nexport default SearchItem;\r\n","import React from \"react\";\r\nimport { ApolloConsumer } from \"react-apollo\";\r\nimport { SEARCH_RECIPES } from \"../../queries\";\r\nimport SearchItem from \"./SearchItem\";\r\n\r\nclass Search extends React.Component {\r\n  state = {\r\n    searchRecipes: []\r\n  };\r\n\r\n  handleChange = ({ searchRecipes }) => {\r\n    this.setState({\r\n      searchRecipes\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { searchRecipes } = this.state;\r\n    return (\r\n      <ApolloConsumer>\r\n        {client => (\r\n          <div className=\"App\">\r\n            <h3>Search</h3>\r\n            <input\r\n              type=\"search\"\r\n              className=\"search\"\r\n              name=\"search\"\r\n              placeholder=\"Search for Recipes\"\r\n              onChange={async event => {\r\n                event.persist();\r\n                const { data } = await client.query({\r\n                  query: SEARCH_RECIPES,\r\n                  variables: { searchTerm: event.target.value }\r\n                });\r\n                this.handleChange(data);\r\n              }}\r\n            />\r\n            <ul>\r\n              {searchRecipes.map(recipe => (\r\n                <SearchItem key={recipe._id} {...recipe} />\r\n              ))}\r\n            </ul>\r\n          </div>\r\n        )}\r\n      </ApolloConsumer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Search;\r\n","import React from \"react\";\r\nimport { Query } from \"react-apollo\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { GET_CURRENT_USER } from \"../queries\";\r\n\r\nconst withAuth = conditionFunc => Component => props => (\r\n  <Query query={GET_CURRENT_USER}>\r\n    {(data, loading, error) => {\r\n      if (loading) return null;\r\n      return conditionFunc(data) ? (\r\n        <Component {...props} />\r\n      ) : (\r\n        <Redirect to=\"/\" />\r\n      );\r\n    }}\r\n  </Query>\r\n);\r\n\r\nexport default withAuth;\r\n","import React from \"react\";\r\nimport CKEditor from \"react-ckeditor-component\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nimport { Mutation } from \"react-apollo\";\r\nimport {\r\n  ADD_RECIPE,\r\n  GET_ALL_RECIPES,\r\n  GET_USER_RECIPES,\r\n  GET_CURRENT_USER\r\n} from \"../../queries\";\r\nimport Error from \"../Error\";\r\nimport withAuth from \"../withAuth\";\r\nimport Spinner from \"../Spinner\";\r\n\r\nconst initialState = {\r\n  name: \"\",\r\n  imageUrl: \"\",\r\n  category: \"Breakfast\",\r\n  description: \"\",\r\n  instructions: \"\",\r\n  username: \"\"\r\n};\r\n\r\nclass AddRecipe extends React.Component {\r\n  state = { ...initialState };\r\n\r\n  clearState = () => {\r\n    this.setState({ ...initialState });\r\n  };\r\n\r\n  validateForm = () => {\r\n    const {\r\n      name,\r\n      imageUrl,\r\n      category,\r\n      description,\r\n      instructions,\r\n      username\r\n    } = this.state;\r\n    const isInvalid =\r\n      !name ||\r\n      !imageUrl ||\r\n      !category ||\r\n      !description ||\r\n      !instructions ||\r\n      !username;\r\n    return isInvalid;\r\n  };\r\n\r\n  handleChange = event => {\r\n    const { name, value } = event.target;\r\n    this.setState({\r\n      [name]: value\r\n    });\r\n  };\r\n\r\n  handleEditChange = event => {\r\n    const newContent = event.editor.getData();\r\n    this.setState({ instructions: newContent });\r\n  };\r\n\r\n  handleSubmit = (event, addRecipe) => {\r\n    event.preventDefault();\r\n    addRecipe().then(({ data }) => {\r\n      this.clearState();\r\n      this.props.history.push(\"/\");\r\n    });\r\n  };\r\n\r\n  updateCache = (cache, { data: { addRecipe } }) => {\r\n    const { getAllRecipes } = cache.readQuery({ query: GET_ALL_RECIPES });\r\n    cache.writeQuery({\r\n      query: GET_ALL_RECIPES,\r\n      data: {\r\n        getAllRecipes: [addRecipe, ...getAllRecipes]\r\n      }\r\n    });\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.setState({\r\n      username: this.props.session.getCurrentUser.username\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      name,\r\n      imageUrl,\r\n      category,\r\n      description,\r\n      instructions,\r\n      username\r\n    } = this.state;\r\n\r\n    return (\r\n      <Mutation\r\n        mutation={ADD_RECIPE}\r\n        variables={{\r\n          name,\r\n          imageUrl,\r\n          category,\r\n          description,\r\n          instructions,\r\n          username\r\n        }}\r\n        refetchQueries={() => [\r\n          { query: GET_USER_RECIPES, variables: { username } },\r\n          { query: GET_CURRENT_USER }\r\n        ]}\r\n        update={this.updateCache}\r\n      >\r\n        {(addRecipe, { data, loading, error }) => {\r\n          if (loading) return <Spinner />;\r\n          return (\r\n            <div className=\"App\">\r\n              <h2 className=\"App\">Add Recipe</h2>\r\n              <form\r\n                className=\"form\"\r\n                onSubmit={event => this.handleSubmit(event, addRecipe)}\r\n              >\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"name\"\r\n                  placeholder=\"Recipe Name\"\r\n                  onChange={this.handleChange}\r\n                  value={name}\r\n                />\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"imageUrl\"\r\n                  placeholder=\"Recipe Image\"\r\n                  onChange={this.handleChange}\r\n                  value={imageUrl}\r\n                />\r\n                <select\r\n                  name=\"category\"\r\n                  onChange={this.handleChange}\r\n                  value={category}\r\n                >\r\n                  <option value=\"Breakfast\">Breakfast</option>\r\n                  <option value=\"Lunch\">Lunch</option>\r\n                  <option value=\"Dinner\">Dinner</option>\r\n                  <option value=\"Snack\">Snack</option>\r\n                </select>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"description\"\r\n                  placeholder=\"Add description\"\r\n                  onChange={this.handleChange}\r\n                  value={description}\r\n                />\r\n                <label htmlFor=\"instructions\">Add Instructions</label>\r\n                <CKEditor\r\n                  name=\"instructions\"\r\n                  content={instructions}\r\n                  events={{ change: this.handleEditChange }}\r\n                />\r\n                {/* <textarea\r\n                  name=\"instructions\"\r\n                  placeholder=\"Add instructions\"\r\n                  onChange={this.handleChange}\r\n                  value={instructions}\r\n                /> */}\r\n                <button\r\n                  disabled={loading || this.validateForm()}\r\n                  type=\"submit\"\r\n                  className=\"button-primary\"\r\n                >\r\n                  Submit\r\n                </button>\r\n                {error && <Error error={error} />}\r\n              </form>\r\n            </div>\r\n          );\r\n        }}\r\n      </Mutation>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withAuth(session => session && session.data.getCurrentUser)(\r\n  withRouter(AddRecipe)\r\n);\r\n","import React from \"react\";\r\nimport { Mutation } from \"react-apollo\";\r\nimport { UNLIKE_RECIPE, LIKE_RECIPE, GET_RECIPE } from \"../../queries\";\r\nimport withSession from \"../withSession\";\r\n\r\nclass LikeRecipe extends React.Component {\r\n  state = {\r\n    liked: false,\r\n    username: \"\"\r\n  };\r\n\r\n  componentDidMount = () => {\r\n    console.log(this.props);\r\n    if (this.props.session.getCurrentUser) {\r\n      const { username, favorites } = this.props.session.getCurrentUser;\r\n      const { _id } = this.props;\r\n      const prevLiked =\r\n        favorites.findIndex(favorite => favorite._id === _id) > -1;\r\n      this.setState({ liked: prevLiked, username });\r\n    }\r\n  };\r\n\r\n  handleClick = (likeRecipe, unlikeRecipe) => {\r\n    this.setState(\r\n      prevState => ({\r\n        liked: !prevState.liked\r\n      }),\r\n      () => this.handleLike(likeRecipe, unlikeRecipe)\r\n    );\r\n  };\r\n\r\n  handleLike = (likeRecipe, unlikeRecipe) => {\r\n    if (this.state.liked) {\r\n      likeRecipe().then(async ({ data }) => {\r\n        await this.props.refetch();\r\n      });\r\n    } else {\r\n      unlikeRecipe().then(async ({ data }) => {\r\n        await this.props.refetch();\r\n      });\r\n    }\r\n  };\r\n\r\n  updateLike = (cache, { data: { likeRecipe } }) => {\r\n    const { _id } = this.props;\r\n    const { getRecipe } = cache.readQuery({\r\n      query: GET_RECIPE,\r\n      variables: { _id }\r\n    });\r\n    cache.writeQuery({\r\n      query: GET_RECIPE,\r\n      variables: { _id },\r\n      data: {\r\n        getRecipe: { ...getRecipe, likes: likeRecipe.likes + 1 }\r\n      }\r\n    });\r\n  };\r\n\r\n  updateUnlike = (cache, { data: { unlikeRecipe } }) => {\r\n    const { _id } = this.props;\r\n    const { getRecipe } = cache.readQuery({\r\n      query: GET_RECIPE,\r\n      variables: { _id }\r\n    });\r\n    cache.writeQuery({\r\n      query: GET_RECIPE,\r\n      variables: { _id },\r\n      data: {\r\n        getRecipe: { ...getRecipe, likes: unlikeRecipe.likes - 1 }\r\n      }\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { username, liked } = this.state;\r\n    const { _id } = this.props;\r\n\r\n    return (\r\n      <Mutation\r\n        mutation={UNLIKE_RECIPE}\r\n        variables={{ _id, username }}\r\n        update={this.updateUnlike}\r\n      >\r\n        {unlikeRecipe => (\r\n          <Mutation\r\n            mutation={LIKE_RECIPE}\r\n            variables={{ _id, username }}\r\n            update={this.updateLike}\r\n          >\r\n            {likeRecipe =>\r\n              username && (\r\n                <button\r\n                  className=\"like-button\"\r\n                  onClick={() => this.handleClick(likeRecipe, unlikeRecipe)}\r\n                >\r\n                  {liked ? \"Unlike\" : \"Like\"}\r\n                </button>\r\n              )\r\n            }\r\n          </Mutation>\r\n        )}\r\n      </Mutation>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withSession(LikeRecipe);\r\n","import React from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { Query } from \"react-apollo\";\r\nimport { GET_RECIPE } from \"../../queries\";\r\nimport LikeRecipe from \"./LikeRecipe\";\r\nimport Spinner from \"../Spinner\";\r\n\r\nconst RecipePage = ({ match }) => {\r\n  const { _id } = match.params;\r\n  return (\r\n    <Query query={GET_RECIPE} variables={{ _id }}>\r\n      {({ data, loading, error }) => {\r\n        if (loading) return <Spinner />;\r\n        if (error) return <div className=\"App\">Error</div>;\r\n        return (\r\n          <div className=\"App\">\r\n            <div\r\n              style={{\r\n                background: `url(${\r\n                  data.getRecipe.imageUrl\r\n                }) center center / cover no-repeat`\r\n              }}\r\n              className=\"recipe-image\"\r\n            />\r\n            <div className=\"recipe\">\r\n              <div className=\"recipe-header\">\r\n                <h2 className=\"recipe-name\">\r\n                  <strong>{data.getRecipe.name}</strong>\r\n                </h2>\r\n                <h5>\r\n                  <strong>{data.getRecipe.category}</strong>\r\n                </h5>\r\n                <p>\r\n                  Created by <strong>{data.getRecipe.username}</strong>\r\n                </p>\r\n                <p>\r\n                  Created date <strong>{data.getRecipe.createdDate}</strong>\r\n                </p>\r\n                <p>\r\n                  {data.getRecipe.likes}{\" \"}\r\n                  <span role=\"img\" aria-label=\"heart\">\r\n                    ♥\r\n                  </span>\r\n                </p>\r\n              </div>\r\n              <blockquote className=\"recipe-description\">\r\n                {data.getRecipe.description}\r\n              </blockquote>\r\n              <h3 className=\"recipe-instructions__title\">Instructions</h3>\r\n              <div\r\n                className=\"recipe-instructions\"\r\n                dangerouslySetInnerHTML={{\r\n                  __html: data.getRecipe.instructions\r\n                }}\r\n              />\r\n              <LikeRecipe _id={_id} />\r\n            </div>\r\n          </div>\r\n        );\r\n      }}\r\n    </Query>\r\n  );\r\n};\r\n\r\nexport default withRouter(RecipePage);\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst formatDate = date => {\r\n  const newDate = new Date(date).toLocaleDateString(\"en-US\");\r\n  const newTime = new Date(date).toLocaleTimeString(\"en-US\");\r\n  return `${newDate} at ${newTime}`;\r\n};\r\n\r\nconst UserInfo = ({ session }) => (\r\n  <div className=\"App\">\r\n    <h3>User Info</h3>\r\n    <p>Username: {session.getCurrentUser.username}</p>\r\n    <p>E-mail: {session.getCurrentUser.email}</p>\r\n    <p>Join Date: {formatDate(session.getCurrentUser.joinDate)}</p>\r\n    <ul>\r\n      <h3>{session.getCurrentUser.username}'s Favorites</h3>\r\n      {session.getCurrentUser.favorites.map(favorite => (\r\n        <li key={favorite._id}>\r\n          <Link to={`/recipes/${favorite._id}`}>\r\n            <p>{favorite.name}</p>\r\n          </Link>{\" \"}\r\n        </li>\r\n      ))}\r\n      {!session.getCurrentUser.favorites.length && (\r\n        <p>\r\n          <strong>You have no favorites currently. Go add some!</strong>\r\n        </p>\r\n      )}\r\n    </ul>\r\n  </div>\r\n);\r\n\r\nexport default UserInfo;\r\n","import React from \"react\";\r\nimport { Query, Mutation } from \"react-apollo\";\r\nimport { Link } from \"react-router-dom\";\r\nimport CKEditor from \"react-ckeditor-component\";\r\nimport {\r\n  GET_USER_RECIPES,\r\n  UPDATE_USER_RECIPE,\r\n  DELETE_USER_RECIPE,\r\n  GET_ALL_RECIPES,\r\n  GET_CURRENT_USER\r\n} from \"../../queries\";\r\nimport Spinner from \"../Spinner\";\r\n\r\nclass UserRecipes extends React.Component {\r\n  state = {\r\n    _id: \"\",\r\n    name: \"\",\r\n    imageUrl: \"\",\r\n    category: \"Breakfast\",\r\n    description: \"\",\r\n    instructions: \"\",\r\n    modal: false\r\n  };\r\n\r\n  handleChange = event => {\r\n    const { name, value } = event.target;\r\n    this.setState({\r\n      [name]: value\r\n    });\r\n  };\r\n\r\n  handleEditChange = event => {\r\n    const newContent = event.editor.getData();\r\n    this.setState({ instructions: newContent });\r\n  };\r\n\r\n  handleDelete = deleteUserRecipe => {\r\n    const confirmDelete = window.confirm(\r\n      \"Are you sure you want to delete this recipe?\"\r\n    );\r\n    if (confirmDelete) {\r\n      deleteUserRecipe().then(({ data }) => {\r\n        //\r\n      });\r\n    }\r\n  };\r\n\r\n  handleSubmit = (event, updateUserRecipe) => {\r\n    event.preventDefault();\r\n    updateUserRecipe().then(({ data }) => {\r\n      console.log(data);\r\n      this.closeModal();\r\n    });\r\n  };\r\n\r\n  loadRecipe = recipe => {\r\n    this.setState({ ...recipe, modal: true });\r\n  };\r\n\r\n  closeModal = () => {\r\n    this.setState({ modal: false });\r\n  };\r\n\r\n  render() {\r\n    const { username } = this.props;\r\n    const { modal } = this.state;\r\n    return (\r\n      <Query query={GET_USER_RECIPES} variables={{ username }}>\r\n        {({ data, loading, error }) => {\r\n          if (loading) return <Spinner />;\r\n          if (error) return <div className=\"App\">Error</div>;\r\n          return (\r\n            <ul>\r\n              {modal && (\r\n                <EditRecipeModal\r\n                  recipe={this.state}\r\n                  closeModal={this.closeModal}\r\n                  handleChange={this.handleChange}\r\n                  handleEditChange={this.handleEditChange}\r\n                  handleSubmit={this.handleSubmit}\r\n                />\r\n              )}\r\n              <h3>Your Recipes</h3>\r\n              {!data.getUserRecipes.length && (\r\n                <p>\r\n                  <strong>You have not added any recipes yet.</strong>\r\n                </p>\r\n              )}\r\n              {data.getUserRecipes.map(recipe => (\r\n                <li key={recipe._id} style={{ border: \"2px solid black\" }}>\r\n                  <Link to={`/recipes/${recipe._id}`}>\r\n                    <p>{recipe.name}</p>\r\n                  </Link>\r\n                  <p style={{ marginBottom: \"0\" }}>Likes: {recipe.likes}</p>\r\n                  <Mutation\r\n                    mutation={DELETE_USER_RECIPE}\r\n                    variables={{ _id: recipe._id }}\r\n                    refetchQueries={() => [\r\n                      { query: GET_ALL_RECIPES },\r\n                      { query: GET_CURRENT_USER }\r\n                    ]}\r\n                    update={(cache, { data: { deleteUserRecipe } }) => {\r\n                      const { getUserRecipes } = cache.readQuery({\r\n                        query: GET_USER_RECIPES,\r\n                        variables: { username }\r\n                      });\r\n                      cache.writeQuery({\r\n                        query: GET_USER_RECIPES,\r\n                        variables: { username },\r\n                        data: {\r\n                          getUserRecipes: getUserRecipes.filter(\r\n                            recipe => recipe._id !== deleteUserRecipe._id\r\n                          )\r\n                        }\r\n                      });\r\n                    }}\r\n                  >\r\n                    {(deleteUserRecipe, attrs = {}) => (\r\n                      <React.Fragment>\r\n                        <button\r\n                          className=\"button-primary\"\r\n                          onClick={() => this.loadRecipe(recipe)}\r\n                        >\r\n                          Update\r\n                        </button>\r\n                        <button\r\n                          className=\"delete-button\"\r\n                          onClick={() => this.handleDelete(deleteUserRecipe)}\r\n                        >\r\n                          {attrs.loading ? \"Deleting...\" : \"Delete\"}\r\n                        </button>\r\n                      </React.Fragment>\r\n                    )}\r\n                  </Mutation>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          );\r\n        }}\r\n      </Query>\r\n    );\r\n  }\r\n}\r\n\r\nconst EditRecipeModal = ({\r\n  handleSubmit,\r\n  recipe,\r\n  handleChange,\r\n  handleEditChange,\r\n  closeModal\r\n}) => (\r\n  <Mutation\r\n    mutation={UPDATE_USER_RECIPE}\r\n    variables={{\r\n      _id: recipe._id,\r\n      name: recipe.name,\r\n      imageUrl: recipe.imageUrl,\r\n      category: recipe.category,\r\n      description: recipe.description,\r\n      instructions: recipe.instructions\r\n    }}\r\n  >\r\n    {updateUserRecipe => (\r\n      <div className=\"modal modal-open\">\r\n        <div className=\"modal-inner\">\r\n          <div className=\"modal-content\">\r\n            <form\r\n              onSubmit={event => handleSubmit(event, updateUserRecipe)}\r\n              className=\"modal-content-inner\"\r\n            >\r\n              <h4>Edit Recipe</h4>\r\n              <input\r\n                type=\"text\"\r\n                name=\"name\"\r\n                placeholder=\"Recipe Name\"\r\n                onChange={handleChange}\r\n                value={recipe.name}\r\n              />\r\n              <input\r\n                type=\"text\"\r\n                name=\"imageUrl\"\r\n                placeholder=\"Recipe Image\"\r\n                onChange={handleChange}\r\n                value={recipe.imageUrl}\r\n              />\r\n              <select\r\n                name=\"category\"\r\n                onChange={handleChange}\r\n                value={recipe.category}\r\n              >\r\n                <option value=\"Breakfast\">Breakfast</option>\r\n                <option value=\"Lunch\">Lunch</option>\r\n                <option value=\"Dinner\">Dinner</option>\r\n                <option value=\"Snack\">Snack</option>\r\n              </select>\r\n              <input\r\n                type=\"text\"\r\n                name=\"description\"\r\n                placeholder=\"Add description\"\r\n                onChange={handleChange}\r\n                value={recipe.description}\r\n              />\r\n              <CKEditor\r\n                name=\"instructions\"\r\n                content={recipe.instructions}\r\n                events={{ change: handleEditChange }}\r\n              />\r\n              <hr />\r\n              <div className=\"modal-buttons\">\r\n                <button type=\"submit\" className=\"button-primary\">\r\n                  Update\r\n                </button>\r\n                <button onClick={closeModal}>Cencel</button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )}\r\n  </Mutation>\r\n);\r\n\r\nexport default UserRecipes;\r\n","import React from \"react\";\r\nimport UserInfo from \"./UserInfo\";\r\nimport UserRecipes from \"./UserRecipes\";\r\nimport withAuth from \"../withAuth\";\r\n\r\nconst Profile = ({ session }) => (\r\n  <div className=\"App\">\r\n    <UserInfo session={session} />\r\n    <UserRecipes username={session.getCurrentUser.username} />\r\n  </div>\r\n);\r\n\r\nexport default withAuth(session => session && session.data.getCurrentUser)(\r\n  Profile\r\n);\r\n","import React from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { ApolloConsumer } from \"react-apollo\";\r\n\r\nconst handleSignout = (client, history) => {\r\n  localStorage.removeItem(\"token\");\r\n  client.resetStore();\r\n  history.push(\"/\");\r\n};\r\n\r\nconst Signout = ({ history }) => (\r\n  <ApolloConsumer>\r\n    {client => {\r\n      return (\r\n        <button onClick={() => handleSignout(client, history)}>Signout</button>\r\n      );\r\n    }}\r\n  </ApolloConsumer>\r\n);\r\n\r\nexport default withRouter(Signout);\r\n","import React, { Fragment } from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport Signout from \"../components/Auth/Signout\";\r\n\r\nconst Navbar = ({ session }) => (\r\n  <nav>\r\n    {session && session.getCurrentUser ? (\r\n      <NavbarAuth session={session} />\r\n    ) : (\r\n      <NavbarUnAuth />\r\n    )}\r\n  </nav>\r\n);\r\n\r\nconst NavbarAuth = ({ session }) => (\r\n  <Fragment>\r\n    <ul>\r\n      <li>\r\n        <NavLink to=\"/\" exact>\r\n          Home\r\n        </NavLink>\r\n      </li>\r\n      <li>\r\n        <NavLink to=\"/search\">Search</NavLink>\r\n      </li>\r\n      <li>\r\n        <NavLink to=\"/recipe/add\">Add Recipe</NavLink>\r\n      </li>\r\n      <li>\r\n        <NavLink to=\"/profile\">Profile</NavLink>\r\n      </li>\r\n      <li>\r\n        <Signout />\r\n      </li>\r\n    </ul>\r\n    <h4>\r\n      Welcome, <strong>{session.getCurrentUser.username}</strong>\r\n    </h4>\r\n  </Fragment>\r\n);\r\n\r\nconst NavbarUnAuth = () => (\r\n  <ul>\r\n    <li>\r\n      <NavLink to=\"/\" exact>\r\n        Home\r\n      </NavLink>\r\n    </li>\r\n    <li>\r\n      <NavLink to=\"/search\">Search</NavLink>\r\n    </li>\r\n    <li>\r\n      <NavLink to=\"/signin\">Signin</NavLink>\r\n    </li>\r\n    <li>\r\n      <NavLink to=\"/signup\">Signup</NavLink>\r\n    </li>\r\n  </ul>\r\n);\r\n\r\nexport default Navbar;\r\n","import React, { Fragment } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport {\n  BrowserRouter as Router,\n  Route,\n  Switch,\n  Redirect\n} from \"react-router-dom\";\n\nimport \"./index.css\";\nimport App from \"./components/App\";\nimport Signin from \"./components/Auth/Signin\";\nimport Signup from \"./components/Auth/Signup\";\nimport withSession from \"./components/withSession\";\nimport Search from \"./components/Recipe/Search\";\nimport AddRecipe from \"./components/Recipe/AddRecipe\";\nimport RecipePage from \"./components/Recipe/RecipePage\";\nimport Profile from \"./components/Profile/Profile\";\nimport Navbar from \"./components/Navbar\";\n\nimport ApolloClient from \"apollo-boost\";\nimport { ApolloProvider } from \"react-apollo\";\n\nconst client = new ApolloClient({\n  uri: \"http://localhost:4444/graphql\",\n  //uri: \"https://react-apollo-recipes-hide.herokuapp.com/graphql\",\n  fetchOptions: {\n    credentials: \"include\"\n  },\n  request: operation => {\n    const token = localStorage.getItem(\"token\");\n    operation.setContext({\n      headers: {\n        authorization: token\n      }\n    });\n  },\n  onError: ({ networkError }) => {\n    if (networkError) {\n      localStorage.setItem(\"token\", \"\");\n    }\n  }\n});\n\nconst Root = ({ refetch, session }) => (\n  <Router>\n    <Fragment>\n      <Navbar session={session} />\n      <Switch>\n        <Route path=\"/\" exact component={App} />\n        <Route path=\"/search\" component={Search} />\n        <Route path=\"/profile\" render={() => <Profile session={session} />} />\n        <Route\n          path=\"/recipe/add\"\n          render={() => <AddRecipe session={session} />}\n        />\n        <Route path=\"/recipes/:_id\" component={RecipePage} />\n        <Route path=\"/signin\" render={() => <Signin refetch={refetch} />} />\n        <Route path=\"/signup\" render={() => <Signup refetch={refetch} />} />\n        <Redirect to=\"/\" />\n      </Switch>\n    </Fragment>\n  </Router>\n);\n\nconst RootWithSession = withSession(Root);\n\nReactDOM.render(\n  <ApolloProvider client={client}>\n    <RootWithSession />\n  </ApolloProvider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}